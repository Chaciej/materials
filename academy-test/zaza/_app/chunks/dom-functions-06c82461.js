function h(t,r=!0){t instanceof HTMLElement||(console.log("getElementPosition",t),console.log(document.querySelector(t)),t=document.querySelector(t));let i=t.getBoundingClientRect(),n=[i.left+i.width/2,i.top+i.height/2];return r&&(n[0]+=window.scrollX,n[1]+=window.scrollY),{rect:i,pos:n}}function a({text:t="",x:r=0,y:i=0,lifespan:n=null,pos:u=null,parent:l=null,style:f="",cl:g="",dim:o=""}={}){let c;l?(typeof l=="string"&&(l=document.querySelector(l)),c=h(l)):u&&(c=h(u),r=c.pos[0],i=c.pos[1]);let e=document.createElement("div");if(n){let s=setTimeout(()=>e.remove(),n);e.timeout=s}if(o){if(o==="parent"&&c)o=[c.rect.width,c.rect.height];else if(o instanceof HTMLElement){let s=o.getBoundingClientRect();o=[s.width,s.height]}else o=o.toString().match("x")?o.split("x"):[o,o];e.style.width=`${o[0]}px`,e.style.height=`${o[1]}px`}return g&&e.setAttribute("class",g),e.innerText=t,e.style.position="absolute",e.style.top=i+"px",e.style.left=r+"px",e.style.pointerEvents="none",e.style.textAlign="center",e.style.zIndex="1",Object.keys(f).forEach(s=>{e.style[s]=f[s]}),console.log("parent",l),l instanceof HTMLElement?(l.appendChild(e),getComputedStyle(l).position==="static"&&(l.style.position="relative")):document.body.appendChild(e),e}function y(t,{setToAutoAfter:r=!0,overflowAfter:i="visible",callback:n=u=>{}}={}){console.log("expand section FUNCTION");let u=t.scrollHeight;t.style.height=u+"px",t.addEventListener("transitionend",function(l){t.removeEventListener("transitionend",y),t.style.height=r?"auto":null,t.style.overflow=i,n(t)}),t.setAttribute("data-collapsed","false")}export{a as c,y as e};
